"0","library(tidyr)"
"0","df_0 <- df %>%"
"0","  arrange(desc(`Profit per Second`)) %>%"
"0","  mutate(`Profit Rank` = 1:n()) %>%"
"0","  mutate(rank_diff = `Fortune 500 Rank Company` - `Profit Rank`)"
"0","df_1 <- df_0 %>%"
"0","  select(Company, Industry, `Fortune 500 Rank Company`, `Profit Rank`) %>%"
"0","  gather(key = which_rank, value = rank, -`Company`, -`Industry`) %>%"
"0","  mutate(which_rank = factor(which_rank)) %>%"
"0","  mutate(rank = as.numeric(rank)) %>%"
"0","  mutate(which_rank = recode(which_rank, `Profit Rank` = ""Profit"", `Fortune 500 Rank Company` = ""Revenue""))"
